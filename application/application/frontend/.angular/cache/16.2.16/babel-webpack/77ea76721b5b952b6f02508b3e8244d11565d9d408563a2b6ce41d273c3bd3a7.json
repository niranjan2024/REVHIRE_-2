{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/job-seeker.service\";\nimport * as i3 from \"../../services/auth.service\";\nexport let SeekerProfileComponent = /*#__PURE__*/(() => {\n  class SeekerProfileComponent {\n    constructor(fb, jobSeekerService, authService) {\n      this.fb = fb;\n      this.jobSeekerService = jobSeekerService;\n      this.authService = authService;\n      this.message = '';\n      this.form = this.fb.group({\n        username: [{\n          value: '',\n          disabled: true\n        }],\n        fullName: [{\n          value: '',\n          disabled: true\n        }],\n        email: [{\n          value: '',\n          disabled: true\n        }],\n        mobileNumber: [{\n          value: '',\n          disabled: true\n        }],\n        location: [{\n          value: '',\n          disabled: true\n        }],\n        skills: ['', Validators.maxLength(1000)],\n        education: ['', Validators.maxLength(1000)],\n        certifications: ['', Validators.maxLength(1000)],\n        headline: ['', Validators.maxLength(150)],\n        summary: ['', Validators.maxLength(500)]\n      });\n    }\n    ngOnInit() {\n      const currentUser = this.authService.getCurrentUser();\n      if (currentUser) {\n        this.form.patchValue({\n          username: currentUser.username ?? '',\n          email: currentUser.email ?? '',\n          fullName: currentUser.fullName ?? '',\n          mobileNumber: currentUser.mobileNumber ?? '',\n          location: currentUser.location ?? ''\n        });\n      }\n      this.jobSeekerService.getProfile().subscribe({\n        next: profile => {\n          this.form.patchValue({\n            username: profile.username ?? currentUser?.username ?? '',\n            fullName: profile.fullName ?? currentUser?.fullName ?? '',\n            email: profile.email ?? currentUser?.email ?? '',\n            mobileNumber: profile.mobileNumber ?? currentUser?.mobileNumber ?? '',\n            location: profile.location ?? currentUser?.location ?? '',\n            skills: profile.skills ?? '',\n            education: profile.education ?? '',\n            certifications: profile.certifications ?? '',\n            headline: profile.headline ?? '',\n            summary: profile.summary ?? ''\n          });\n        },\n        error: err => {\n          this.message = err?.error?.message ?? 'Unable to load profile';\n        }\n      });\n    }\n    save() {\n      if (this.form.invalid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      const raw = this.form.getRawValue();\n      this.jobSeekerService.updateProfile({\n        skills: raw.skills ?? '',\n        education: raw.education ?? '',\n        certifications: raw.certifications ?? '',\n        headline: raw.headline ?? '',\n        summary: raw.summary ?? ''\n      }).subscribe({\n        next: () => {\n          this.message = 'Profile saved successfully';\n        },\n        error: err => {\n          this.message = err?.error?.message ?? 'Unable to save profile';\n        }\n      });\n    }\n    static {\n      this.ɵfac = function SeekerProfileComponent_Factory(t) {\n        return new (t || SeekerProfileComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.JobSeekerService), i0.ɵɵdirectiveInject(i3.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SeekerProfileComponent,\n        selectors: [[\"app-seeker-profile\"]],\n        decls: 38,\n        vars: 2,\n        consts: [[1, \"panel\", \"form-panel\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"username\"], [\"formControlName\", \"fullName\"], [\"formControlName\", \"email\"], [\"formControlName\", \"mobileNumber\"], [\"formControlName\", \"location\"], [\"formControlName\", \"skills\"], [\"formControlName\", \"education\"], [\"formControlName\", \"certifications\"], [\"formControlName\", \"headline\"], [\"formControlName\", \"summary\"], [\"type\", \"submit\", 1, \"action-btn\"], [1, \"feedback\"]],\n        template: function SeekerProfileComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"section\", 0)(1, \"h1\");\n            i0.ɵɵtext(2, \"Complete Profile\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 1);\n            i0.ɵɵlistener(\"ngSubmit\", function SeekerProfileComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵelementStart(4, \"label\");\n            i0.ɵɵtext(5, \"Username\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(6, \"input\", 2);\n            i0.ɵɵelementStart(7, \"label\");\n            i0.ɵɵtext(8, \"Full Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(9, \"input\", 3);\n            i0.ɵɵelementStart(10, \"label\");\n            i0.ɵɵtext(11, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(12, \"input\", 4);\n            i0.ɵɵelementStart(13, \"label\");\n            i0.ɵɵtext(14, \"Mobile Number\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(15, \"input\", 5);\n            i0.ɵɵelementStart(16, \"label\");\n            i0.ɵɵtext(17, \"Location\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(18, \"input\", 6);\n            i0.ɵɵelementStart(19, \"label\");\n            i0.ɵɵtext(20, \"Skills (comma separated)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(21, \"input\", 7);\n            i0.ɵɵelementStart(22, \"label\");\n            i0.ɵɵtext(23, \"Education (comma separated)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(24, \"input\", 8);\n            i0.ɵɵelementStart(25, \"label\");\n            i0.ɵɵtext(26, \"Certifications (comma separated)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(27, \"input\", 9);\n            i0.ɵɵelementStart(28, \"label\");\n            i0.ɵɵtext(29, \"Headline\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(30, \"input\", 10);\n            i0.ɵɵelementStart(31, \"label\");\n            i0.ɵɵtext(32, \"Summary\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(33, \"textarea\", 11);\n            i0.ɵɵelementStart(34, \"button\", 12);\n            i0.ɵɵtext(35, \"Save Profile\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(36, \"p\", 13);\n            i0.ɵɵtext(37);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.form);\n            i0.ɵɵadvance(34);\n            i0.ɵɵtextInterpolate(ctx.message);\n          }\n        },\n        dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        encapsulation: 2\n      });\n    }\n  }\n  return SeekerProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}